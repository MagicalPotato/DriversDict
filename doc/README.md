# 引言

当你在网上『冲』浪时，因为来晚了，别人分享的资源失效，而你只能等着补链。或者知道名字，想去找某个资源但是百度又搜不到，搜到的论坛需要注册，注册好了需要积分下载。或者好不容易搜到下载下来了，居然还有密码，而你，并不知道如何去获取此密码。或者，你知道这个压缩包是从哪个网站流出来的，然而，当你去到那个网址时，发现昔人已乘黄鹤去，此地空余 Timeout。

这篇文章就从『授人以鱼不如授人以渔』的角度出发，为各位上路新手介绍驾驶技巧。下面就是——

**终极蛇皮上帝视角之卡车轿车工程车车车漂移客机货机战斗机机机起飞之中国老司机掌握核心科技之日本资源不缺乏不管我要金坷垃之四方无光中央震暗炎黑龙吐白息之从撸管到入棺的司机养成 30 分钟教程**

——教学开始！

## 资源获取

> 中原大地，资源紧缩、网络封闭。各路豪商富贾跑马圈地，内容、流量紧锁于其城。有一豪强曰「众里寻他千██」者，起网盘，以价廉多量之方略，胜各路同道于乱世中，一统网盘江湖，称霸文件分享于中原。而后，持资源而散漫者倒戈卸甲；拷贝而转发者，蚁聚于网盘；贫贱不能不移者，拱手而降。至此，旷野愈加旷，荒原复为荒，天下大瘦，唯肥一盘。
>
> —— 《胡言史记・众里寻他千██》

现在，许多资料都只通过百度网盘分享，本文也只讲如何高效率地从百度网盘获取资源，其他各网站各有各的玩法，只用一篇文章是讲不清楚的。从百度网盘获取资源需要解决三个主要问题：

1. **资源在哪里**：如何从浩如烟海的互联网上查找到包含所需资源的分享链接
2. **资源怎么下**：通常遇到的都是加密分享，需要找到提取密码
3. **怎么下得快**：如果不开通 SVIP 的话，从百度网盘下资源就像用毛细管给澡盆接水一样

### 无所遁形

百度网盘的内容无法通过常规的搜索引擎搜索。莫说 Google、Bing 了，连百度本身都不索引网盘中的资料。

正所谓『无管制的市场，你不去占领，自有别人占领』，而且『没有买卖，就没有杀害』的逆否命题就是『有人要买，就有人要卖』。网上存在一些并非基于机器爬虫，而是基于用户共享的网盘搜索引擎。这些引擎一般通过分发浏览器插件、用户脚本或桌面客户端的形式让众多用户使用，然后，每个用户对百度网盘进行访问所得到的信息都会上传至服务器，由服务器进行索引，再提供给用户搜索查询。以前大火的「Wi-Fi 万能钥匙」和这个是一样的原理（后来群众知道了这一点，可能是因为“我只想白嫖别人 Wi-Fi，不想分享自家 Wi-Fi”的心态，万能钥匙的装机量暴跌）。

一次分享链接的内容、加密分享的提取码等，都可以通过这种方式完成共享。而由于索引资料来源于用户共享，因此链接有效性、更新频率等关系到使用体验的参数与产品的用户数量强烈相关。越是用户扎堆的服务，更新越快，资源越多，失效链接的发现概率越大，使用体验越好。但是，由于这种服务的灰色性质，规模一大容易被搞掉，所以最好狡兔三窟，几个不同的服务轮换着用。

在笔者的认知范围之内，提供此类服务的有：

* PanDownload 「<https://pandownload.com/>」【搜索、下载】[^1]：提供桌面客户端，能通过 aria2 直链下载网盘文件。客户端可以使用「度盘搜（<https://www.dupanso.com/>）」和「史莱姆导航（<http://www.slimego.cn/>）」的搜索功能。
* 云盘精灵「<https://www.yunpanjingling.com>」【提取码、搜索】：由于只提供收费服务而名声不好。界面比较干净美观。

[^1]: 呜呜呜，已经凉了

其他几个用得比较少，酌情使用：

* 大力盘「<https://www.dalipan.com/>」：实际上是个聚合网站，资料从其他网站爬来的。
* 云盘恶魔「<https://pan.09l.me/>」：需要关注微信公众号获取密码才给你用。
* 盘搜搜等：这些网站经常出现在百度搜索页面的前排，但很多资源是失效的，鬼知道多久没更新了。怀疑它们其实已经被搞掉了，只是百度故意留着恶心人用。

使用以上网盘搜索工具，让你所需的资源无所遁形！

### 宽衣解带

大多数我们需♂要的资源都是通过加密分享的方式分享的，毕竟GHS和盗版不是多么光明正大的事情嘛。这些链接需要提取码访问，就像穿上了贞操带一样，令气喘吁吁的绅士突然感觉到嘴角流下哈喇子的冰凉。

上面的网盘搜索引擎都提供了提取码查询的功能。或者，你也可以安装一些浏览器插件，可以在你遇到你知道提取码的陌生分享链接时上传数据、遇到已知的分享链接时自动查询并填充提取码（黄色 2020 自动化革命，赞！）。

例如：

* 网盘助手「<https://greasyfork.org/zh-CN/scripts/378301-网盘助手>」：用户脚本，需要 Tampermonkey 等脚本管理器。

### 细水长流

下载。这一点算是所有绅士的难题，几乎没有什么好的白嫖方案。以下提供一些方案进行参考：

1. PanDownload 白嫖法
2. 用户脚本 + aria2 直链解析白嫖法

以上方法有下载量的限制，如果下载量超过一定数值，百度有可能会将速度限制到 10 KB/s 以下。
而且容易遇到 403 Forbidden 错误。

1. 老老实实下载法

手机百度网盘客户端的限速不太严重，对于免费用户，一般的资源能在 200 KB/s 左右，GB 级的文件速度更是可以达到 2 MB/s 左右。可以在晚上睡觉前开始挂机下载。

### 乾坤一掷

不就是 SVIP 吗，干就完了！没毛病吧，加油，奥——力——给——
建议平时攒一波资源，有机会开一个月一次下完。

其实，这种方法也是笔者推荐的。毕竟维持网盘服务的运营，在硬件设备上、用电上、维护人工上以及网络带宽上都需要极大的成本。而且对于成年人来说，一个月 25 块并不是什么过分的负担，比起忍气吞声唯唯诺诺蝇营狗苟地为了节省这些钱而浪费极大的精力去搜寻各种靠谱不靠谱的下载方法，直接磕金才是成本最低的。比如，各位绅士可以计算一下自己的时薪，再回忆一下自己为了白嫖百度网盘花了多少小时，算一算自己为了白嫖而花费的实际成本是多少。

> 什么，你说你是没收入的学生党？去去去，小孩子搞什么黄色，回家让你爸妈买教辅资料，好好学习！

## 压缩密码

压缩包的密码和网盘的提取密码一样，都有人做了索引。在安卓上有个叫「解压缩全能王」的软件，提供了查询密码的功能。原理和上面的网盘搜索一样，只要你下载的是热门资源，那么就有可能有用户将这个压缩包的 HASH 特征码和密码上传到了服务器，只要从服务器查询就可以得到了。笔者称之为「查询共享法」。

而另一种方式就是「破解尝试法」。由于压缩包的密码不会因为输入错误 3 次以上就冻结，也没有设定两次输入之间的间隔，因此我们可以通过无数次的尝试来破解密码。有两种方式：

1. 字典法：记录一个字典，包含所有已知的压缩密码。破解时挨个尝试
2. 排列组合法：构造字节序列，暴力破解
3. 明文攻击：在已知压缩包内部分内容的情况下，通过已知部分的明文密文计算出加密密钥

> 为什么说两种，写三种？（滑稽）：因为我根本不会明文攻击！

### 周游列网

这个网站：<http://app.cjtecc.cn/compress/yun.php> 提供了以 MD5 值为键的查找方式[^2]。用 HTTP GET 方式提交查询，返回一个 JSON 对象。它是解压全能王的密码查询 API，这个软件在安卓端似乎有不少用户，积累下了许多可用的密码。

[^2]: API 地址已经改变，无法访问；可以考虑使用一个替代品 <https://www.getpassword.tk/get_password>，不过需要注册。

可以用 PowerShell 命令计算文件的 MD5 值，不需要下载其他软件了，执行这样的命令：

```powershell
echo (Get-FileHash -Algorithm MD5 <文件路径>).Hash
```

输入文件路径时可以用 Tab 键补全。

返回的应该是一串 `0123456789ABCDEF` 组成的字符串（就是 16 进制数字符串表示啦），例如：`98B6AE0C5C45AB133F11651545FD7BE4`

然后打开浏览器，构造这样的 URL：`http://app.cjtecc.cn/compress/yun.php?md5=<MD5 值>`，例如`http://app.cjtecc.cn/compress/yun.php?md5=98B6AE0C5C45AB133F11651545FD7BE4`。这个查询返回的 JSON 应该是 `{"id":"1328440","md5":"98B6AE0C5C45AB133F11651545FD7BE4","password":"acg18.us","createtime":"2020-02-12 15:05:08","bz":""}`，`password` 属性就是密码。

如果数据库中没有要查询的文件，那么就会返回字符串 `no`。

这里提供了一个 PowerShell 函数来完成以上功能：

```powershell
function Query-Cjtecc {
  param([System.IO.FileInfo]$file)
  $md5 = (Get-FileHash -Algorithm MD5 $file).Hash
  $url = "http://app.cjtecc.cn/compress/yun.php?md5=$md5"
  $resp = (Invoke-WebRe	quest $url).Content
  if ($resp -eq "no") {
    echo "未找到密码"
  } else {
    $info = (ConvertFrom-Json -InputObject $resp.Content)
    echo "#$($info.password)#"
  }
}
```

为了防止密码首尾有空格而被肉眼忽略，所以用两个 `#` 符号把密码夹在中间了。

> 由于这个解压全能王是安卓 APP，因此只有会在**手机**上解压的文件才可能有数据，而且还得是热门文件。如果太过冷门，或者没人在手机上解压的，就不用白费力气了。

### 上下其手

用字典破解，这个任务可以交给专门的软件来做，也可以随手编一个小脚本。
字典法的核心就是要维护一本字典。这个 GitHub 仓库就有一个，收录了大概 800 多条密码吧。

暴力破解就不多说了，这个得靠专业软件来做，而且硬件条件也得跟上。因为很可能需要跑几百万条密码。不过，有一个误区是「暴力破解只能构造字母数字密码，中文密码是绝对安全的」，这是错的。暴力破解构建的是密钥，都是字节串，中文密码无非是因为编码方式的原因而长一点罢了。比如一个四个字的中文，其字节长度在 UTF8 编码下是 12，相当于一个 12 位的密码。

笔者这里没准备工具，各位自己搜索一下吧。

回过头来讲讲字典，笔者个人希望各位用户都能贡献一点，让这个字典越来越丰富，这样才能更简单地获取到各种压缩文件的密码。

仓库中准备了 Python 脚本：

* `test.py` 用于测试压缩文件的密码，会挨个从字典中测试
